(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(n,e,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(1379)}])},1379:function(n,e,l){"use strict";l.r(e),l.d(e,{__N_SSP:function(){return h},default:function(){return m}});var o=l(5893),t=l(6994),i=l(1664),s=l.n(i),a=l(1438),r=l(7294),c=l(7054),u=l(3454);let d=n=>{var e,l,t;let{properties:i}=n,{isLoaded:s}=(0,c.Ji)({id:"google-map-script",googleMapsApiKey:u.env.googlePlacesAPI});console.log(null===(e=i[0].location)||void 0===e?void 0:e.lat);let a={lat:null===(l=i[0].location)||void 0===l?void 0:l.lat,lng:null===(t=i[0].location)||void 0===t?void 0:t.lng},[d,g]=r.useState(null),h=r.useCallback(function(n){let e=new window.google.maps.LatLngBounds;n.fitBounds(e),g(n)},[]),m=r.useCallback(function(n){g(null)},[]);return s?(0,o.jsxs)(c.b6,{mapContainerStyle:{width:"100%",height:"100vh"},center:a,zoom:10,onLoad:h,onUnmount:m,children:[i.map((n,e)=>{var l,t;return(0,o.jsx)(c.Jx,{position:{lat:null==n?void 0:null===(l=n.location)||void 0===l?void 0:l.lat,lng:null==n?void 0:null===(t=n.location)||void 0===t?void 0:t.lng},icon:{url:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",anchor:new google.maps.Point(5,58)}})}),(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(o.Fragment,{})};var g=r.memo(d),h=!0;function m(n){let{properties:e}=n;return console.log(e),(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsxs)("div",{className:"main",children:[(0,o.jsxs)("div",{className:"feed-container",children:[(0,o.jsx)("h1",{children:"Place to stay near you"}),(0,o.jsx)("div",{className:"feed",children:e.map(n=>(0,o.jsx)(s(),{href:"property/".concat(n.slug.current),children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("img",{src:(0,t.u)(n.mainImage)}),(0,o.jsxs)("p",{children:[n.reviews.length," review",(0,a.E)(n.reviews.length)]}),(0,o.jsx)("h3",{children:n.title}),(0,o.jsxs)("h3",{children:[n.pricePerNight," â‚º / per Night"]})]},n._id)}))})]}),(0,o.jsx)("div",{className:"map",children:(0,o.jsx)(g,{properties:e})})]})})}},6994:function(n,e,l){"use strict";l.d(e,{u:function(){return i}});var o=l(1035);let t={dataset:"production",projectId:"kqfxc4mk",useCdn:!0},i=n=>(0,o.WK)(t).image(n);(0,o.eI)(t)},1438:function(n,e,l){"use strict";l.d(e,{E:function(){return o}});let o=n=>0===n||n>1?"s":""}},function(n){n.O(0,[255,129,774,888,179],function(){return n(n.s=5557)}),_N_E=n.O()}]);